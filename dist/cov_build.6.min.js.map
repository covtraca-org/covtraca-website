{"version":3,"sources":["webpack:///./src/components/MapCov.vue?0e46","webpack:///./src/components/MapCov.vue?fead","webpack:///./src/sass/views/introduction.sass","webpack:///./src/views/Map.vue?689c","webpack:///./src/components/MapCov.vue?b2cb","webpack:///src/components/MapCov.vue","webpack:///./src/components/MapCov.vue?828c","webpack:///./src/components/MapCov.vue","webpack:///src/views/Map.vue","webpack:///./src/views/Map.vue?e7d9","webpack:///./src/views/Map.vue","webpack:///./src/sass/views/introduction.sass?2fe3","webpack:///./src/components/MapCov.vue?88c8"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","locals","add","default","__inject__","shadowRoot","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_m","attrs","computed","newCurve","reports","coordinates","methods","vm","res","data","r","lat","long","type","geometry","map","container","style","zoom","size","pulsingDot","width","height","Uint8Array","onAdd","canvas","document","createElement","context","getContext","duration","t","radius","outerRadius","clearRect","beginPath","arc","fillStyle","fill","Math","PI","strokeStyle","lineWidth","stroke","getImageData","triggerRepaint","on","addImage","addSource","features","addLayer","id","source","layout","window","innerWidth","getCurve","pause","to","left","top","scale","ease","getReports","renderMap","setTimeout","resume","injectStyles","style0","component","components","MapCov","$store","dispatch"],"mappings":"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","file":"cov_build.6.min.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".map-cov{height:100vh;width:100vw;position:fixed;top:0;left:0}#map{width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=style&index=0&lang=sass&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"0ee25606\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@-webkit-keyframes spinAround{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes spinAround{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@media screen and (max-width:1023px){.content-title-description{margin-top:30px}.content-download.full button{color:#fff;font-weight:700}.content-download .btn-dark{background-color:#fff;color:#343a40;border-color:#fff}.content-download .btn-outline-dark{color:#fff;border-color:#fff}.hour{font-size:22px;top:16px;left:44px;width:67px}.hour .day{font-size:8px}.content-hour-people,.people-phone{width:270px}.content-hour-people{background-image:url(/images/people-phone-mobile.svg);height:200px;margin:20px auto}.title-image{width:70%;position:relative}.title-image.to-right{right:-17%}.title-image.to-left{left:-17%}.phone-hidde-mobile{display:none}.title-cov{font-size:2rem;line-height:2rem;color:#fff}}@media screen and (min-width:1024px){.black-b{color:#fff!important}.content-hour-people{background-image:url(/images/people-phone.svg);height:400px}.section-home{display:flex;align-items:center}.content-title-description{margin-top:100px}.hour{font-size:44px;top:26px;left:87px;width:130px}.hour .day{font-size:14px}.content-hour-people,.people-phone{width:500px}.title-image{width:100%;position:absolute}.title-image.to-right{right:-10%}.title-image.to-left{left:-10%}.phone-hidde-desktop{display:none}.title-cov{font-size:35px;line-height:35px;text-align:right}.content-download{grid-template-columns:repeat(2,1fr);grid-column-gap:30px}.content-download.full button{color:#009cde;font-weight:700}.section-home{height:calc(100vh - 60px)}}.content-hour-people{background-repeat:no-repeat;background-size:contain;position:relative}.download-button{display:flex;align-items:center;justify-content:center;font-weight:700}.download-button svg{margin-right:10px}.hour{position:absolute;color:#fff;transform:skewX(13deg) skewY(1deg);text-align:center;display:flex;flex-direction:column}.hour .day{width:100%;max-width:100%}.title-image{transform:rotate(-5deg);max-width:400px}.title-cov{font-weight:700;position:relative}.content-download{display:grid;margin-top:20px;grid-row-gap:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section-home\"},[_c('div',{staticClass:\"container-fluid\"},[_c('map-cov')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-cov\"},[_c('div',{attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n    .map-cov\n        #map\n</template>\n<script>\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport mapboxgl from \"mapbox-gl\";\nimport { TimelineMax, Linear } from \"gsap\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  computed: {\n    ...mapGetters([\"getCurve\"])\n  },\n  data() {\n    return {\n      newCurve: null,\n      reports: [],\n      coordinates: []\n    };\n  },\n  methods: {\n    getReports() {\n      let vm = this;\n      axios.get(\"https://api.covtraca.org/v1/reports\").then(res => {\n        vm.reports = res.data.data;\n        _.forEach(vm.reports, r => {\n          if (r.lat != null && r.long != null) {\n            vm.coordinates.push({\n              type: \"Feature\",\n              geometry: {\n                type: \"Point\",\n                coordinates: [r.long, r.lat]\n              }\n            });\n          }\n        });\n      });\n    },\n    renderMap() {\n      let vm = this;\n      mapboxgl.accessToken =\n        \"pk.eyJ1IjoiY292dHJhY2EiLCJhIjoiY2s5Y3liNXVmMDkyODNocDVzdGxvaXZqeCJ9.I-oXd16J5u_HVtr3gL8QPA\";\n      var map = new mapboxgl.Map({\n        container: \"map\",\n        style: \"mapbox://styles/mapbox/streets-v11\",\n        zoom: 1.5\n      });\n\n      var size = 200;\n\n      var pulsingDot = {\n        width: size,\n        height: size,\n        data: new Uint8Array(size * size * 4),\n        onAdd: function() {\n          var canvas = document.createElement(\"canvas\");\n          canvas.width = this.width;\n          canvas.height = this.height;\n          this.context = canvas.getContext(\"2d\");\n        },\n\n        // called once before every frame where the icon will be used\n        render: function() {\n          var duration = 1000;\n          var t = (performance.now() % duration) / duration;\n\n          var radius = (size / 2) * 0.3;\n          var outerRadius = (size / 2) * 0.7 * t + radius;\n          var context = this.context;\n\n          // draw outer circle\n          context.clearRect(0, 0, this.width, this.height);\n          context.beginPath();\n          context.arc(\n            this.width / 2,\n            this.height / 2,\n            outerRadius,\n            0,\n            Math.PI * 2\n          );\n          //context.fillStyle = 'rgba(255, 200, 200,' + (1 - t) + ')';\n          context.fillStyle = \"rgba(0, 156, 222,\" + (1 - t) + \")\";\n          context.fill();\n\n          // draw inner circle\n          context.beginPath();\n          context.arc(this.width / 2, this.height / 2, radius, 0, Math.PI * 2);\n          //context.fillStyle = 'rgba(255, 100, 100, 1)';\n          context.fillStyle = \"rgba(0, 156, 222, 1)\";\n          context.strokeStyle = \"white\";\n          context.lineWidth = 2 + 4 * (1 - t);\n          context.fill();\n          context.stroke();\n\n          // update this image's data with data from the canvas\n          this.data = context.getImageData(0, 0, this.width, this.height).data;\n\n          // continuously repaint the map, resulting in the smooth animation of the dot\n          map.triggerRepaint();\n\n          // return `true` to let the map know that the image was updated\n          return true;\n        }\n      };\n      map.on(\"load\", function() {\n        map.addImage(\"pulsing-dot\", pulsingDot, { pixelRatio: 2 });\n\n        map.addSource(\"points\", {\n          type: \"geojson\",\n          data: {\n            type: \"FeatureCollection\",\n            features: vm.coordinates\n          }\n        });\n        map.addLayer({\n          id: \"points\",\n          type: \"symbol\",\n          source: \"points\",\n          layout: {\n            \"icon-image\": \"pulsing-dot\"\n          }\n        });\n      });\n    }\n  },\n  mounted() {\n    if (window.innerWidth > 1023) {\n      this.getCurve.pause();\n      this.newCurve = new TimelineMax();\n      this.newCurve.to(\".curve\", 1, {\n        left: \"-70%\",\n        top: \"-50%\",\n        scale: 3,\n        ease: Linear.ease\n      });\n    }\n    this.getReports();\n    this.renderMap();\n  },\n  destroyed() {\n    let vm = this;\n    if (window.innerWidth > 1023) {\n      setTimeout(() => {\n        vm.getCurve.resume();\n      }, 1100);\n      vm.newCurve.to(\".curve\", 1, {\n        left: \"0%\",\n        top: \"-5%\",\n        scale: 1,\n        ease: Linear.ease\n      });\n    }\n  }\n};\n</script>\n<style lang=\"sass\">\n.map-cov\n    height: 100vh\n    width: 100vw\n    position: fixed\n    top: 0\n    left: 0\n#map\n    width: 100%\n    height: 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapCov.vue?vue&type=template&id=fb85f284&lang=pug&\"\nimport script from \"./MapCov.vue?vue&type=script&lang=js&\"\nexport * from \"./MapCov.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MapCov.vue?vue&type=style&index=0&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","<template lang=\"pug\">    \n      section.section-home\n          .container-fluid\n              map-cov\n</template>\n\n<script>\nimport \"@/sass/views/introduction.sass\";\nimport MapCov from \"@/components/MapCov.vue\";\n\nexport default {\n  components: {\n    MapCov\n  },\n  mounted() {\n    this.$store.dispatch(\"handleMap\");\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&shadow\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&shadow\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=b224b1ac&lang=pug&shadow\"\nimport script from \"./Map.vue?vue&type=script&lang=js&shadow\"\nexport * from \"./Map.vue?vue&type=script&lang=js&shadow\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-3-1!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-3-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-3-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-3-4!./introduction.sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"1fcaf891\", content, shadowRoot)\n};","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}