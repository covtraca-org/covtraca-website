{"version":3,"sources":["webpack:///./src/components/MapCov.vue?0e46","webpack:///./src/components/MapCov.vue?fead","webpack:///./src/sass/views/introduction.sass","webpack:///./src/views/Map.vue?689c","webpack:///./src/components/MapCov.vue?b2cb","webpack:///src/components/MapCov.vue","webpack:///./src/components/MapCov.vue?828c","webpack:///./src/components/MapCov.vue","webpack:///src/views/Map.vue","webpack:///./src/views/Map.vue?e7d9","webpack:///./src/views/Map.vue","webpack:///./src/sass/views/introduction.sass?2fe3","webpack:///./src/components/MapCov.vue?88c8"],"names":[],"mappings":"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","file":"cov_build.6.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".map-cov{height:100vh;width:100vw;position:fixed;top:0;left:0}#map{width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=style&index=0&lang=sass&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"0ee25606\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@-webkit-keyframes spinAround{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes spinAround{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@media screen and (max-width:1023px){.content-title-description{margin-top:30px}.content-download.full button{color:#fff;font-weight:700}.content-download .btn-dark{background-color:#fff;color:#343a40;border-color:#fff}.content-download .btn-outline-dark{color:#fff;border-color:#fff}.hour{font-size:22px;top:16px;left:44px;width:67px}.hour .day{font-size:8px}.content-hour-people,.people-phone{width:270px}.content-hour-people{background-image:url(/images/people-phone-mobile.svg);height:200px;margin:20px auto}.title-image{width:70%;position:relative}.title-image.to-right{right:-17%}.title-image.to-left{left:-17%}.phone-hidde-mobile{display:none}.title-cov{font-size:2rem;line-height:2rem;color:#fff}}@media screen and (min-width:1024px){.black-b{color:#fff!important}.content-hour-people{background-image:url(/images/people-phone.svg);height:400px}.section-home{display:flex;align-items:center}.content-title-description{margin-top:100px}.hour{font-size:44px;top:26px;left:87px;width:130px}.hour .day{font-size:14px}.content-hour-people,.people-phone{width:500px}.title-image{width:100%;position:absolute}.title-image.to-right{right:-10%}.title-image.to-left{left:-10%}.phone-hidde-desktop{display:none}.title-cov{font-size:35px;line-height:35px;text-align:right}.content-download{grid-template-columns:repeat(2,1fr);grid-column-gap:30px}.content-download.full button{color:#009cde;font-weight:700}.section-home{height:calc(100vh - 60px)}}.content-hour-people{background-repeat:no-repeat;background-size:contain;position:relative}.download-button{display:flex;align-items:center;justify-content:center;font-weight:700}.download-button svg{margin-right:10px}.hour{position:absolute;color:#fff;transform:skewX(13deg) skewY(1deg);text-align:center;display:flex;flex-direction:column}.hour .day{width:100%;max-width:100%}.title-image{transform:rotate(-5deg);max-width:400px}.title-cov{font-weight:700;position:relative}.content-download{display:grid;margin-top:20px;grid-row-gap:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section-home\"},[_c('div',{staticClass:\"container-fluid\"},[_c('map-cov')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-cov\"},[_c('div',{attrs:{\"id\":\"map\"}})])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n    .map-cov\n        #map\n</template>\n<script>\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport mapboxgl from \"mapbox-gl\";\nimport { TimelineMax, Linear } from \"gsap\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  computed: {\n    ...mapGetters([\"getCurve\"])\n  },\n  data() {\n    return {\n      newCurve: null,\n      reports: [],\n      coordinates: []\n    };\n  },\n  methods: {\n    getReports() {\n      let vm = this;\n      axios.get(\"https://api.covtraca.org/v1/reports\").then(res => {\n        vm.reports = res.data.data;\n        _.forEach(vm.reports, r => {\n          if (r.lat != null && r.long != null) {\n            vm.coordinates.push({\n              type: \"Feature\",\n              geometry: {\n                type: \"Point\",\n                coordinates: [r.long, r.lat]\n              }\n            });\n          }\n        });\n      });\n    },\n    renderMap() {\n      let vm = this;\n      mapboxgl.accessToken =\n        \"pk.eyJ1IjoiY292dHJhY2EiLCJhIjoiY2s5Y3liNXVmMDkyODNocDVzdGxvaXZqeCJ9.I-oXd16J5u_HVtr3gL8QPA\";\n      var map = new mapboxgl.Map({\n        container: \"map\",\n        style: \"mapbox://styles/mapbox/streets-v11\",\n        zoom: 1.5\n      });\n\n      var size = 200;\n\n      var pulsingDot = {\n        width: size,\n        height: size,\n        data: new Uint8Array(size * size * 4),\n        onAdd: function() {\n          var canvas = document.createElement(\"canvas\");\n          canvas.width = this.width;\n          canvas.height = this.height;\n          this.context = canvas.getContext(\"2d\");\n        },\n\n        // called once before every frame where the icon will be used\n        render: function() {\n          var duration = 1000;\n          var t = (performance.now() % duration) / duration;\n\n          var radius = (size / 2) * 0.3;\n          var outerRadius = (size / 2) * 0.7 * t + radius;\n          var context = this.context;\n\n          // draw outer circle\n          context.clearRect(0, 0, this.width, this.height);\n          context.beginPath();\n          context.arc(\n            this.width / 2,\n            this.height / 2,\n            outerRadius,\n            0,\n            Math.PI * 2\n          );\n          //context.fillStyle = 'rgba(255, 200, 200,' + (1 - t) + ')';\n          context.fillStyle = \"rgba(0, 156, 222,\" + (1 - t) + \")\";\n          context.fill();\n\n          // draw inner circle\n          context.beginPath();\n          context.arc(this.width / 2, this.height / 2, radius, 0, Math.PI * 2);\n          //context.fillStyle = 'rgba(255, 100, 100, 1)';\n          context.fillStyle = \"rgba(0, 156, 222, 1)\";\n          context.strokeStyle = \"white\";\n          context.lineWidth = 2 + 4 * (1 - t);\n          context.fill();\n          context.stroke();\n\n          // update this image's data with data from the canvas\n          this.data = context.getImageData(0, 0, this.width, this.height).data;\n\n          // continuously repaint the map, resulting in the smooth animation of the dot\n          map.triggerRepaint();\n\n          // return `true` to let the map know that the image was updated\n          return true;\n        }\n      };\n      map.on(\"load\", function() {\n        map.addImage(\"pulsing-dot\", pulsingDot, { pixelRatio: 2 });\n\n        map.addSource(\"points\", {\n          type: \"geojson\",\n          data: {\n            type: \"FeatureCollection\",\n            features: vm.coordinates\n          }\n        });\n        map.addLayer({\n          id: \"points\",\n          type: \"symbol\",\n          source: \"points\",\n          layout: {\n            \"icon-image\": \"pulsing-dot\"\n          }\n        });\n      });\n    }\n  },\n  mounted() {\n    if (window.innerWidth > 1023) {\n      this.getCurve.pause();\n      this.newCurve = new TimelineMax();\n      this.newCurve.to(\".curve\", 1, {\n        left: \"-70%\",\n        top: \"-50%\",\n        scale: 3,\n        ease: Linear.ease\n      });\n    }\n    this.getReports();\n    this.renderMap();\n  },\n  destroyed() {\n    let vm = this;\n    if (window.innerWidth > 1023) {\n      setTimeout(() => {\n        vm.getCurve.resume();\n      }, 1100);\n      vm.newCurve.to(\".curve\", 1, {\n        left: \"0%\",\n        top: \"-5%\",\n        scale: 1,\n        ease: Linear.ease\n      });\n    }\n  }\n};\n</script>\n<style lang=\"sass\">\n.map-cov\n    height: 100vh\n    width: 100vw\n    position: fixed\n    top: 0\n    left: 0\n#map\n    width: 100%\n    height: 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapCov.vue?vue&type=template&id=fb85f284&lang=pug&\"\nimport script from \"./MapCov.vue?vue&type=script&lang=js&\"\nexport * from \"./MapCov.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MapCov.vue?vue&type=style&index=0&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","<template lang=\"pug\">    \n      section.section-home\n          .container-fluid\n              map-cov\n</template>\n\n<script>\nimport \"@/sass/views/introduction.sass\";\nimport MapCov from \"@/components/MapCov.vue\";\n\nexport default {\n  components: {\n    MapCov\n  },\n  mounted() {\n    this.$store.dispatch(\"handleMap\");\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&shadow\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&shadow\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=b224b1ac&lang=pug&shadow\"\nimport script from \"./Map.vue?vue&type=script&lang=js&shadow\"\nexport * from \"./Map.vue?vue&type=script&lang=js&shadow\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-3-1!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-3-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-3-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-3-4!./introduction.sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"1fcaf891\", content, shadowRoot)\n};","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapCov.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}